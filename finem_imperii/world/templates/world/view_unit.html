{% extends "base/base.html" %}

{% block content %}

    <h1 class="page-header">{{ unit }}</h1>

    <table class="table table-striped table-hover">
        <tbody>
            <tr>
                <td>Name</td>
                <td>
                    {% if unit.owner_character == request.hero %}
                        <form class="form-inline" role="form" method="post" action="{% url 'world:rename_unit' unit.id %}">
                            {% csrf_token %}
                            <input
                                    class="form-control form-control"
                                    type="text"
                                    value="{{ unit.name }}"
                                    maxlength="100"
                                    name="name"
                            >
                            <button type="submit" class="btn btn-primary btn-sm">Rename</button>
                        </form>
                    {% else %}
                        {{ unit.name }}
                    {% endif %}
                </td>
            </tr>
            <tr>
                <td>Owner</td>
                <td>{{ unit.owner_character }}</td>
            </tr>
            <tr>
                <td>Soldiers</td>
                <td>{{ unit.soldier.all|length }}</td>
            </tr>
            <tr>
                <td>Type</td>
                <td>{{ unit.get_type_display|capfirst }}</td>
            </tr>
            <tr>
                <td>Status</td>
                <td>{{ unit.get_status_display|capfirst }}</td>
            </tr>
            <tr>
                <td>Location</td>
                <td>{{ unit.location }} ({{ unit.location.tile }}, {{ unit.location.tile.controlled_by }})</td>
            </tr>
            <tr>
                <td>Recruitment type</td>
                <td>{{ unit.get_recruitment_type_display|capfirst }}</td>
            </tr>
            <tr>
                <td>Average skill</td>
                <td>{{ unit.average_fighting_skill }}%</td>
            </tr>
        </tbody>
    </table>

{% endblock %}
