{% extends "base/base.html" %}

{% load staticfiles %}

{% block content %}

    <div class="row">
        <div class="col-md-3 placeholder">
            <h1 class="">
                {{ world.name }}
            </h1>
            <p id="region_name"></p>
            <p id="region_type"></p>
            <p id="settlement_name"></p>
        </div>

        <div id="canvas-container" class="col-md-9 placeholder" style="height: 600px; padding: 0"></div>
    </div>

    {% include "world/view_world_inc.html" %}

    <script>
        function region_callback(region) {
            $("#region_type").text(region ? region.type : '');
            $("#region_name").text(region ? region.name : '');
        }
        function settlement_callback(settlement) {
            $("#settlement_name").text(settlement ? settlement.name : '');
        }

        $(function () {
            load_map($("#canvas-container"), {{ regions|safe }}, region_callback, settlement_callback)
        })
    </script>

{% endblock %}
